<ion-header>
    <ion-toolbar>
        <ion-title>Registrierung | Sammler</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="input-background">

    <div class="input-block-element">
        <ion-row>
            <ion-col>
                <ion-row class="text-head">Sammler</ion-row>
            </ion-col>
        </ion-row>
        <form [formGroup]="fgCollector" (ngSubmit)="register()">
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Sammlername*</ion-label>
                            <ion-input type="text" required formControlName="cName"
                                       (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cName.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cName.errors?.maxlength" class="input-invalid"
                        >Maximal-Länge von 50 Zeichen überschritten
                        </span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Namenszusatz (Abteilung, ...)
                            </ion-label>
                            <ion-input type="text" formControlName="cNameDetails"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cName.errors?.maxlength" class="input-invalid"
                        >Maximal-Länge von 50 Zeichen überschritten
                    </span>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Bereich/Branche*</ion-label>
                        <ion-select [(ngModel)]="oType" [okText]="'Übernehmen'" [cancelText]="'Abrechen'"
                                    [selectedText]="cType">
                            <ion-select-option *ngFor="let oType of lTypes"
                                               [value]="oType">{{oType.cName}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <span *ngIf="bSubmitted && errorControl.cName.errors?.maxlength" class="input-invalid">Pflichtfeld</span>
                </ion-col>
            </ion-row>
        </ion-grid>
        <form [formGroup]="fgCollector" (ngSubmit)="register()">
            <ion-grid>

                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Straße*</ion-label>
                            <ion-input type="text" formControlName="cStreet"
                                       (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cStreet.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cStreet.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Nummer*</ion-label>
                            <ion-input type="text" formControlName="cStreetNumber"
                                       (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cStreetNumber.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cStreetNumber.errors?.maxlength" class="input-invalid">Maximal-Länge von 10 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">PLZ*</ion-label>
                            <ion-input type="text" formControlName="cZip" (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cZip.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && (errorControl.cZip.errors?.minlength || errorControl.cZip.errors?.maxlength)" class="input-invalid">Ungültige Eingabe</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Stadt*</ion-label>
                            <ion-input type="text" formControlName="cCity" (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cCity.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cCity.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten
                    </span>

                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Bundesland*</ion-label>
                        <ion-select [(ngModel)]="oState" [okText]="'Übernehmen'" [cancelText]="'Abrechen'"
                                    [selectedText]="cState" (ionChange)="onChangeAddress()">
                            <ion-select-option *ngFor="let oState of lStates"
                                               [value]="oState">{{oState.cNameLocale}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <span *ngIf="bSubmitted && oState == null" class="input-invalid">Pflichtfeld</span>
                </ion-col>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Land*</ion-label>
                        <ion-select [(ngModel)]="oCountry" [okText]="'Übernehmen'" [cancelText]="'Abrechen'" [selectedText]="cCountry" (ionChange)="onChangeAddress()">
                            <ion-select-option *ngFor="let oCountry of lCountries" [value]="oCountry">{{oCountry.cName}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <span *ngIf="bSubmitted && oCountry == null" class="input-invalid">Pflichtfeld</span>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Hiermit bestätige ich, dass ich die Nutzungsbedingungen gelesen habe und diesen zustimme.*</ion-label>
                        <ion-checkbox [ngModel]="bConditions" [checked]=bConditions (ionChange)="onChangeAddressIdent($event)"></ion-checkbox>
                    </ion-item>
                </ion-col>
                <span *ngIf="bSubmitted && !bConditions" class="input-invalid">Pflichtfeld</span>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Hiermit bestätige ich, dass ich die Datenschutzerklärung gelesen habe und diesen zustimme.*</ion-label>
                        <ion-checkbox [ngModel]="bSecurity" [checked]=bSecurity (ionChange)="onChangeAddressIdent($event)"></ion-checkbox>
                    </ion-item>
                </ion-col>
                <span *ngIf="bSubmitted && !bSecurity" class="input-invalid">Pflichtfeld</span>
            </ion-row>
        </ion-grid>
    </div>
    <div class="input-block-element">
        <h2 class="text-head">Ansprechpartner</h2>
        <form [formGroup]="fgCollector" (ngSubmit)="register()">
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Vorname*</ion-label>
                            <ion-input type="text" formControlName="cPrename"
                                       (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cPrenamePerson.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cPrenamePerson.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Nachname*</ion-label>
                            <ion-input type="text" formControlName="cSurname" (ionChange)="onChangeAddress()"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cSurnamePerson.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cSurnamePerson.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
        <ion-row>
            <ion-col>
                <ion-item>
                    <ion-label class="input-label">Titel*</ion-label>
                    <ion-select [(ngModel)]="cTitle" [okText]="'Übernehmen'" [cancelText]="'Abrechen'" [selectedText]="cTitle">
                        <ion-select-option *ngFor="let cTitle of lTitles" [value]="cTitle.cName">{{cTitle.cName}}</ion-select-option>
                    </ion-select>
                </ion-item>
                <span *ngIf="bSubmitted && cTitle == null" class="input-invalid">Pflichtfeld</span>
            </ion-col>
            <ion-col>
                <ion-item>
                    <ion-label class="input-label">Persönliche Anrede*</ion-label>
                    <ion-toggle [(ngModel)]="bFormally" [ngModelOptions]="{standalone: true}" (ionChange)="onToggleFormally($event)"></ion-toggle>
                </ion-item>
            </ion-col>
        </ion-row>
        <form [formGroup]="fgCollector" (ngSubmit)="register()">
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">E-Mail Adresse*</ion-label>
                            <ion-input type="text" formControlName="cEmail"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cEmail.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cEmail.errors?.pattern" class="input-invalid">Fehlerhafte Eingabe</span>
                        <span *ngIf="bSubmitted && errorControl.cEmail.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">E-Mail Adresse (CC)</ion-label>
                            <ion-input type="text" formControlName="cEmailCC"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cEmailCC.errors?.pattern" class="input-invalid">Fehlerhafte Eingabe</span>
                        <span *ngIf="bSubmitted && errorControl.cEmailCC.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Telefon (Festnetz)</ion-label>
                            <ion-input type="text" formControlName="cPhoneFixedLine"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cPhoneFixedLine.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Telefon (Festnetz)</ion-label>
                            <ion-input type="text" formControlName="cPhoneMobile"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cPhoneMobile.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
    </div>
    <div class="input-block-element">
        <h2 class="text-head">Versandadresse</h2>

        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Adresse übernehmen</ion-label>
                        <ion-checkbox [ngModel]="bAddressIdentSelected" [checked]=bAddressIdentSelected (ionChange)="onChangeAddressIdent($event)"></ion-checkbox>
                    </ion-item>
                </ion-col>
            </ion-row>
        </ion-grid>
        <form [formGroup]="fgCollector" (ngSubmit)="onRegister()">
            <ion-grid>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Adresszeile 1*</ion-label>
                            <ion-input type="text" formControlName="cShippingNameOne" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingNameOne.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cShippingNameOne.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Adresszeile 2</ion-label>
                            <ion-input type="text" formControlName="cShippingNameTwo"
                                       [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingNameTwo.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Adresszeile 3</ion-label>
                            <ion-input type="text" formControlName="cShippingNameThree" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingNameThree.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Straße*</ion-label>
                            <ion-input type="text" formControlName="cShippingStreet" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingStreet.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cShippingStreet.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Nummer*</ion-label>
                            <ion-input type="text" formControlName="cShippingStreetNumber" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingStreetNumber.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cShippingStreetNumber.errors?.maxlength" class="input-invalid">Maximal-Länge von 10 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">PLZ*</ion-label>
                            <ion-input type="text" formControlName="cShippingZip" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingZip.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && (errorControl.cZip.errors?.minlength || errorControl.cShippingZip.errors?.maxlength)" class="input-invalid">Ungültige Eingabe</span>
                    </ion-col>
                    <ion-col>
                        <ion-item lines="full">
                            <ion-label class="input-label" position="floating">Stadt*</ion-label>
                            <ion-input type="text" formControlName="cShippingCity" [disabled]="bAddressIdentSelected"></ion-input>
                        </ion-item>
                        <span *ngIf="bSubmitted && errorControl.cShippingCity.errors?.required" class="input-invalid">Pflichtfeld</span>
                        <span *ngIf="bSubmitted && errorControl.cShippingCity.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                        <span *ngIf="bSubmitted && errorControl.cShippingCity.errors?.maxlength" class="input-invalid">Maximal-Länge von 50 Zeichen überschritten</span>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Land*</ion-label>
                        <ion-select [(ngModel)]="oShippingCountry" [okText]="'Übernehmen'" [cancelText]="'Abrechen'"
                                    [selectedText]="oShippingCountry.cNameLocale" [disabled]="bAddressIdentSelected">
                            <ion-select-option *ngFor="let oShippingCountry of lCountries"
                                               [value]="oShippingCountry">{{oShippingCountry.cNameLocale}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div class="input-block-element">
        <h2 class="text-head">Sicherheit</h2>
        <form [formGroup]="fgCollector" (ngSubmit)="onRegister()">
            <ion-grid>
                <ion-row class="end">
                    <ion-col size="8">
                        <ion-item lines="full" class="ion-item">
                            <ion-label class="input-label" position="floating">Passwort*</ion-label>
                            <ion-input formControlName="cPassword" [type]="bShowPassword ? 'text' : 'password'" clearOnEdit="false"></ion-input>
                        </ion-item>
                    </ion-col>
                    <ion-col size="4" >
                        <ion-button (click)="showPassword()" class="button-input">{{bShowPassword ? 'Passwort nicht anzeigen' : 'Passwort anzeigen'}}</ion-button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </form>
        <ion-grid>
            <ion-row>
                <ion-col size="2" class="ion-text-center">
                    <span [ngClass]="(passwordInactive() ? 'password-inactive' : (passwordLength()) ? 'password-valid' : 'password-invalid')">Mindestens 8 Zeichen</span>
                </ion-col>
                <ion-col size="2" class="ion-text-center">
                    <span [ngClass]="(passwordInactive() ? 'password-inactive' : (passwordBigSmall()) ? 'password-valid' : 'password-invalid')">Groß- und Kleinbuchstaben</span>
                </ion-col>
                <ion-col size="2" class="ion-text-center">
                    <span [ngClass]="(passwordInactive() ? 'password-inactive' : (passwordNumber()) ? 'password-valid' : 'password-invalid')">Zahl</span>
                </ion-col>
                <ion-col size="2" class="ion-text-center">
                    <span [ngClass]="(passwordInactive() ? 'password-inactive' : (passwordExtra()) ? 'password-valid' : 'password-invalid')">Sonderzeichen</span>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div class="input-block-element">

        <div class="horizontal-orientation">
            <span class="text-head">Partner (Spendenempfänger)</span>
            <mat-icon class="icon-head">info</mat-icon>
        </div>

        <ion-grid>
            <ion-row>
                <ion-col>
                    <ion-item>
                        <ion-label class="input-label">Partnername*</ion-label>
                        <ion-select [disabled]="!bChangePartner" [(ngModel)]="oPartner" [okText]="'Übernehmen'" [cancelText]="'Abrechen'"
                                    [selectedText]="cPartner">
                            <ion-select-option *ngFor="let oPartner of lPartner" [value]="oPartner.cName">{{oPartner.cName}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div class="input-block-element">
        <ion-row class="text-note">Hinweis: Pflichtfelder sind mit einem Sternchen (*) markiert.
        </ion-row>
    </div>
    <ion-row>
        <ion-col class="ion-text-center">
            <ion-button class="button-register" type="submit">Registrieren</ion-button>
        </ion-col>
    </ion-row>
</ion-content>
