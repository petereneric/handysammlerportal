{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { Alert } from '../../../../../utilities/alert';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../utilities/alert\";\nimport * as i2 from \"../../../../../services/conn-api/conn-api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ionic/angular\";\nexport let AddPage = /*#__PURE__*/(() => {\n  class AddPage {\n    constructor(Alert, connApi, router, alertController) {\n      this.Alert = Alert;\n      this.connApi = connApi;\n      this.router = router;\n      this.alertController = alertController;\n      // Urls\n      this.urlLithiumIonLabel = 'collector/lithium-ion-label';\n      this.urlLabel = 'collector/label';\n    }\n    ngOnInit() {\n      //localStorage.setItem('bPopUp', 'false');\n    }\n    onClickLithiumNotice() {\n      this.connApi.safeGetFile(this.urlLithiumIonLabel).subscribe(response => {\n        console.log(response);\n        let blob = new Blob([response], {\n          type: 'application/pdf'\n        });\n        const url = window.URL.createObjectURL(blob);\n        window.open(url);\n        this.Alert.popUp('Lithium-Ionen-Warnhinweis').then(res => {\n          if (!res) window.open(url);\n        });\n      });\n    }\n    onClickShippingLabel() {\n      this.dialogCreateLabel();\n    }\n    // Dialogs\n    dialogMaxLabels() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-alert',\n          header: 'Maximale Versandmenge',\n          message: 'Du hast Deine maximal täglich verfügbare Versandmenge erreicht und kannst heute leider kein weiteres ' + 'Versand-Label erstellen. Weitere Versendungen sind morgen wieder möglich',\n          buttons: ['Ok']\n        });\n        yield alert.present();\n      });\n    }\n    dialogCreateLabel() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-alert',\n          header: 'Versand bestätigen',\n          message: 'Bitte bestätige uns kurz, dass du Dein Paket fertig gepackt und den Lithium-Ionen-Warnhinweis ' + 'aufgeklebt hast. Danach erstellen wir Dir ein neues Versand-Label und merken ' + 'Deine Versendung vor.',\n          buttons: [{\n            'text': 'Bestätigen',\n            handler: () => {\n              this.connApi.safeGetFile(this.urlLabel).subscribe(response => {\n                console.log(response);\n                let blob = new Blob([response], {\n                  type: 'application/pdf'\n                });\n                const url = window.URL.createObjectURL(blob);\n                window.open(url);\n                this.Alert.popUp('DHL Versandlabel').then(res => {\n                  if (!res) window.open(url);\n                });\n              }, error => {\n                console.log(error);\n                if (error.status == 429) {\n                  this.dialogMaxLabels();\n                }\n              });\n            }\n          }, 'Ich bin noch nicht soweit']\n        });\n        yield alert.present();\n      });\n    }\n  }\n  AddPage.ɵfac = function AddPage_Factory(t) {\n    return new (t || AddPage)(i0.ɵɵdirectiveInject(i1.Alert), i0.ɵɵdirectiveInject(i2.ConnApiService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AlertController));\n  };\n  AddPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddPage,\n    selectors: [[\"app-add\"]],\n    features: [i0.ɵɵProvidersFeature([Alert])],\n    decls: 83,\n    vars: 0,\n    consts: [[1, \"input-background\"], [1, \"block-element-top\"], [1, \"block-head\"], [1, \"text-head\"], [1, \"block-text\"], [1, \"text-list\"], [1, \"block-element\"], [1, \"ion-row-buttons\"], [1, \"ion-button-two-inside\", 3, \"click\"], [1, \"ion-button-long-text\"], [1, \"block-element-bottom\"]],\n    template: function AddPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-grid\")(2, \"div\", 1)(3, \"div\", 2)(4, \"span\", 3);\n        i0.ɵɵtext(5, \"1. Verpacken\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"ul\")(8, \"li\", 5);\n        i0.ɵɵtext(9, \"W\\u00E4hle einen extra Karton f\\u00FCr den Versand - So kannst du deine Mobile-Box(en) weiterhin f\\u00FCr die Sammlung benutzen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"li\", 5);\n        i0.ɵɵtext(11, \"Gesammelte Handys bitte nicht aus gro\\u00DFer H\\u00F6he sch\\u00FCtten, sondern vorsichtig umf\\u00FCllen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"li\", 5);\n        i0.ɵɵtext(13, \"Akkus bitte in den Handys belassen. \");\n        i0.ɵɵelementStart(14, \"b\");\n        i0.ɵɵtext(15, \"Lose oder besch\\u00E4digte Akkus sowie aufgebl\\u00E4hte Smartphones mit fest verbautem Akku d\\u00FCrfen nicht versendet werden. Entsorge diese daher bitte an den Abgabestellen der \\u00F6ffentlich rechtlichen Entsorgungstr\\u00E4ger\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \", nachdem lose Akkus an den goldenen Kontaktstellen mit Tesafilm abgeklebt wurden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"li\", 5);\n        i0.ɵɵtext(18, \"Ladekabel und sonstige mit gesammelte Eletronikteile k\\u00F6nnen mitversendet werden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"li\", 5);\n        i0.ɵɵtext(20, \"Achte bitte auf die Stabilit\\u00E4t des Kartons und verwende (falls n\\u00F6tig) ausreichend F\\u00FCllmaterial. Nutze dazu bitte wenn m\\u00F6glich Pappe und kein Plastik.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"li\", 5);\n        i0.ɵɵtext(22, \"Bitte beachte die Mindestversandmenge von 40 Handys.\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(23, \"ion-grid\")(24, \"div\", 6)(25, \"div\", 2)(26, \"span\", 3);\n        i0.ɵɵtext(27, \"2. Lithium-Ionen-Warnhinweis aufkleben\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 4)(29, \"ul\")(30, \"li\", 5);\n        i0.ɵɵtext(31, \"Klicke bitte auf die Schaltfl\\u00E4che \\\"Lithium-Ionen-Warnhinweis \\u00F6ffnen\\\", um dir diesen in einem neuem Fenster anzeigen zu lassen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"li\", 5);\n        i0.ɵɵtext(33, \"Sollte sich kein neues Fenster \\u00F6ffnen, ist m\\u00F6glicherweise die Aktivierung von Pop-Ups in deinem Browser notwendig.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"li\", 5);\n        i0.ɵɵtext(35, \"Drucke den ge\\u00F6ffneten Warnhinweis aus und klebe diesen gut sichtbar auf dein Versand-Paket.\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(36, \"ion-row\", 7)(37, \"ion-col\")(38, \"ion-button\", 8);\n        i0.ɵɵlistener(\"click\", function AddPage_Template_ion_button_click_38_listener() {\n          return ctx.onClickLithiumNotice();\n        });\n        i0.ɵɵelementStart(39, \"span\", 9);\n        i0.ɵɵtext(40, \"Lithium-Ionen-Warnhinweis \\u00F6ffnen\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(41, \"ion-grid\")(42, \"div\", 6)(43, \"div\", 2)(44, \"span\", 3);\n        i0.ɵɵtext(45, \"3. Versandlabel aufkleben\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(46, \"div\", 4)(47, \"ul\")(48, \"li\", 5);\n        i0.ɵɵtext(49, \"Klicke bitte auf die Schaltfl\\u00E4che \\\"Versandlabel erstellen & \\u00F6ffnen\\\", um dir ein kostenloses DHL-Versandlabel in einem neuen Fenster anzeigen zu lassen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"li\", 5);\n        i0.ɵɵtext(51, \"Sollte sich kein neues Fenster \\u00F6ffnen, ist m\\u00F6glicherweise die Aktivierung von Pop-Ups in deinem Browser notwendig.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"li\", 5);\n        i0.ɵɵtext(53, \"Drucke das ge\\u00F6ffnete Versandlabel aus und klebe dieses gut sichtbar auf dein Versand-Paket.\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(54, \"ion-row\", 7)(55, \"ion-col\")(56, \"ion-button\", 8);\n        i0.ɵɵlistener(\"click\", function AddPage_Template_ion_button_click_56_listener() {\n          return ctx.onClickShippingLabel();\n        });\n        i0.ɵɵelementStart(57, \"span\", 9);\n        i0.ɵɵtext(58, \"Versandlabel erstellen & \\u00F6ffnen\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(59, \"ion-grid\")(60, \"div\", 6)(61, \"div\", 2)(62, \"span\", 3);\n        i0.ɵɵtext(63, \"4. Versenden\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(64, \"div\", 4)(65, \"ul\")(66, \"li\", 5);\n        i0.ɵɵtext(67, \"Du kannst dein Paket bei jeder DHL-Filiale oder jeder DHL-Packstation abgeben, um es zu versenden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"li\", 5);\n        i0.ɵɵtext(69, \"Auch m\\u00F6glich ist die \\u00DCbergabe an einen DHL-Zusteller, der ebenfalls versandfertige Pakete entgegennehmen kann.\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(70, \"ion-grid\")(71, \"div\", 10)(72, \"div\", 2)(73, \"span\", 3);\n        i0.ɵɵtext(74, \"So geht es weiter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(75, \"div\", 4)(76, \"ul\")(77, \"li\", 5);\n        i0.ɵɵtext(78, \"Nach Eingang deines Paketes dauert die Bearbeitung etwa 4-6 Wochen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"li\", 5);\n        i0.ɵɵtext(80, \"Nach Abschluss der Bearbeitung erh\\u00E4ltst du von uns per E-Mail eine Best\\u00E4tigung mit deinem Sammel-Ergebnis und einer Urkunde.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"li\", 5);\n        i0.ɵɵtext(82, \"Ebenfalls werden deine Sammelergebnisse in deiner pers\\u00F6nlichen \\\"Statistik\\\" ber\\u00FCcksichtigt.\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n    }\n  });\n  return AddPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}