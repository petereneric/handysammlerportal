{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../services/conn-api/conn-api.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/tooltip\";\nimport * as i6 from \"@angular/material/icon\";\nfunction DonationPage_mat_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-icon\", 7, 8);\n    i0.ɵɵlistener(\"click\", function DonationPage_mat_icon_6_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const _r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(_r3.toggle());\n    });\n    i0.ɵɵtext(2, \"info \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DonationPage_div_9_ion_select_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const oPartner_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", oPartner_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(oPartner_r7.cName);\n  }\n}\nfunction DonationPage_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-item\", 9)(2, \"ion-label\", 10);\n    i0.ɵɵtext(3, \"Partner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function DonationPage_div_9_Template_ion_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.oPartner = $event);\n    })(\"ionChange\", function DonationPage_div_9_Template_ion_select_ionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onSelectedPartner($event));\n    });\n    i0.ɵɵtemplate(5, DonationPage_div_9_ion_select_option_5_Template, 2, 2, \"ion-select-option\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", (ctx_r1.oPartner != null ? ctx_r1.oPartner.bChangePartner == 0 : false) || true)(\"ngModel\", ctx_r1.oPartner)(\"okText\", \"\\u00DCbernehmen\")(\"cancelText\", \"Abrechen\")(\"selectedText\", ctx_r1.oPartner != null ? ctx_r1.oPartner.cName : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.lPartners);\n  }\n}\nfunction DonationPage_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 14)(2, \"p\", 15);\n    i0.ɵɵtext(3, \"Seit Beginn der Handy-Sammlung von Mobile-Box 2012, war die Spende f\\u00FCr jedes gesammelte Handy an einen ausgew\\u00E4hlten, gemeinn\\u00FCtzigen Verein ein fester Bestandteil unseres Konzeptes. Leider mussten wir dieses Jahr feststellen, dass wir dazu wirtschaftlich nicht mehr in der Lage sind. Damit k\\u00F6nnen wir auch f\\u00FCr die von euch gesammelten Handys keine Spende mehr t\\u00E4tigen. Das wird uns aber nicht davon abhalten, die Sammlung auszuweiten und das Mobile-Box Konzept zu verbessern. Denn immer noch sind wir \\u00FCberzeugt, dass jedes umweltgerecht verwertete Handy einen wichtigen Beitrag zum Umweltschutz leistet und ein Zeichen f\\u00FCr eine funktionierende Kreislaufwirtschaft ist. Wir hoffen auf euer Verst\\u00E4ndnis und weitere Unterst\\u00FCzung.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 15)(5, \"b\");\n    i0.ɵɵtext(6, \"Euer Eric & euer Till\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport let DonationPage = /*#__PURE__*/(() => {\n  class DonationPage {\n    constructor(connApi, toastController) {\n      this.connApi = connApi;\n      this.toastController = toastController;\n      // Urls\n      this.urlPartners = 'collector/partners';\n      this.urlPartner = 'collector/partner';\n      // Variables\n      this.lPartners = [];\n      this.oPartner = null;\n    }\n    ngOnInit() {\n      // Partner\n      this.connApi.safeGet(this.urlPartner).subscribe(response => {\n        let partner = response.body;\n        if (partner != null) {\n          this.oPartner = partner;\n          console.log(this.oPartner.kRewardmodel);\n        }\n      }, error => {\n        console.log(error);\n      });\n      // Partners\n      this.connApi.safeGet(this.urlPartners).subscribe(response => {\n        this.lPartners = response.body;\n      });\n    }\n    savePartner() {\n      // prepare data\n      let data = {\n        id: this.oPartner.id\n      };\n      // save\n      this.connApi.safePost(this.urlPartner, data).subscribe(response => {\n        if (response.status == 200) {}\n      });\n    }\n    onSelectedPartner($event) {\n      if (this.oPartner == null) {\n        this.oPartner = $event['detail']['value'];\n      } else {\n        this.oPartner = $event['detail']['value'];\n        this.savePartner();\n      }\n    }\n  }\n  DonationPage.ɵfac = function DonationPage_Factory(t) {\n    return new (t || DonationPage)(i0.ɵɵdirectiveInject(i1.ConnApiService), i0.ɵɵdirectiveInject(i2.ToastController));\n  };\n  DonationPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DonationPage,\n    selectors: [[\"app-donation\"]],\n    decls: 11,\n    vars: 4,\n    consts: [[1, \"input-background\"], [1, \"block-element-single\"], [1, \"block-head\"], [1, \"text-head\"], [\"class\", \"icon-head\", \"matTooltip\", \"Mobile-Box spendet bis zu 2 \\u20AC pro Handy an den von dir ausgew\\u00E4hlten Partner\", 3, \"click\", 4, \"ngIf\"], [\"size-xl\", \"6\", \"size-lg\", \"6\", \"size-md\", \"12\", \"size-sm\", \"12\", \"size-xs\", \"12\"], [4, \"ngIf\"], [\"matTooltip\", \"Mobile-Box spendet bis zu 2 \\u20AC pro Handy an den von dir ausgew\\u00E4hlten Partner\", 1, \"icon-head\", 3, \"click\"], [\"tooltip\", \"matTooltip\"], [\"text-wrap\", \"\"], [\"position\", \"floating\", 1, \"input-label\"], [1, \"ion-text-wrap\", 3, \"disabled\", \"ngModel\", \"okText\", \"cancelText\", \"selectedText\", \"ngModelChange\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"block-text\"], [1, \"text-secondary\"]],\n    template: function DonationPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-grid\")(2, \"div\", 1)(3, \"div\", 2)(4, \"span\", 3);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, DonationPage_mat_icon_6_Template, 3, 0, \"mat-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ion-row\")(8, \"ion-col\", 5);\n        i0.ɵɵtemplate(9, DonationPage_div_9_Template, 6, 6, \"div\", 6);\n        i0.ɵɵtemplate(10, DonationPage_div_10_Template, 7, 0, \"div\", 6);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.oPartner != null && ctx.oPartner.kRewardmodel < 5 ? \"Spendenempf\\u00E4nger\" : \"Handy-Spende\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.oPartner != null && ctx.oPartner.kRewardmodel < 5);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.oPartner != null && ctx.oPartner.kRewardmodel < 5);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.oPartner != null && ctx.oPartner.kRewardmodel == 5);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgControlStatus, i4.NgModel, i2.IonCol, i2.IonContent, i2.IonGrid, i2.IonItem, i2.IonLabel, i2.IonRow, i2.IonSelect, i2.IonSelectOption, i2.SelectValueAccessor, i5.MatTooltip, i6.MatIcon]\n  });\n  return DonationPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}