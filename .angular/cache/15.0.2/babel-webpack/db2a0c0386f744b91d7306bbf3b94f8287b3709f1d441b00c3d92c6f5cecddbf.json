{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../services/conn-api/conn-api.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../../../services/data/data.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction AddPage_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"span\", 9);\n    i0.ɵɵtext(2, \"Neue Bestellung\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddPage_div_2_div_2_ion_col_2_ion_select_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const boxOrder_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", boxOrder_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(boxOrder_r13);\n  }\n}\nconst _c0 = function () {\n  return {\n    cssClass: \"my-select\"\n  };\n};\nfunction AddPage_div_2_div_2_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 18)(1, \"ion-item\")(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPage_div_2_div_2_ion_col_2_Template_ion_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.boxOrder = $event);\n    })(\"ionChange\", function AddPage_div_2_div_2_ion_col_2_Template_ion_select_ionChange_4_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r16.onChangedBoxOrder());\n    });\n    i0.ɵɵtemplate(5, AddPage_div_2_div_2_ion_col_2_ion_select_option_5_Template, 2, 2, \"ion-select-option\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"sizeXl\", 6)(\"sizeLg\", 6)(\"sizeMd\", 12)(\"sizeSm\", 12)(\"sizeXs\", 12);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r7.oBox != null && ctx_r7.oBox.nStock > 0 ? ctx_r7.oBox.maxOrder > 0 ? \"Mobile-Box\" : \"Mobile-Box (Limit erreicht)*\" : \"Mobile-Box (Nicht auf Lager)\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"interfaceOptions\", i0.ɵɵpureFunction0(13, _c0))(\"cancelText\", \"Abbrechen\")(\"okText\", \"Ausw\\u00E4hlen\")(\"ngModel\", ctx_r7.boxOrder)(\"compareWith\", ctx_r7.compare)(\"disabled\", ctx_r7.oBox.nStock == 0 || ctx_r7.oBox.maxOrder <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.boxChoice);\n  }\n}\nfunction AddPage_div_2_div_2_ion_col_3_ion_select_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bricolageOrder_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", bricolageOrder_r18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(bricolageOrder_r18);\n  }\n}\nfunction AddPage_div_2_div_2_ion_col_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 18)(1, \"ion-item\")(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPage_div_2_div_2_ion_col_3_Template_ion_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r19.bricolageOrder = $event);\n    })(\"ionChange\", function AddPage_div_2_div_2_ion_col_3_Template_ion_select_ionChange_4_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r21.onChangedBricolageOrder());\n    });\n    i0.ɵɵtemplate(5, AddPage_div_2_div_2_ion_col_3_ion_select_option_5_Template, 2, 2, \"ion-select-option\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"sizeXl\", 6)(\"sizeLg\", 6)(\"sizeMd\", 12)(\"sizeSm\", 12)(\"sizeXs\", 12);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r8.oBricolage != null && ctx_r8.oBricolage.nStock > 0 ? ctx_r8.oBricolage.maxOrder > 0 ? \"Bastel-Box\" : \"Bastel-Box (Limit erreicht)*\" : \"Bastel-Box (Nicht auf Lager)\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"interfaceOptions\", i0.ɵɵpureFunction0(13, _c0))(\"cancelText\", \"Abbrechen\")(\"okText\", \"Ausw\\u00E4hlen\")(\"ngModel\", ctx_r8.bricolageOrder)(\"compareWith\", ctx_r8.compare)(\"disabled\", ctx_r8.oBricolage.nStock == 0 || ctx_r8.oBricolage.maxOrder <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.bricolageChoice);\n  }\n}\nfunction AddPage_div_2_div_2_ion_select_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const flyerOrder_r22 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", flyerOrder_r22);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(flyerOrder_r22);\n  }\n}\nfunction AddPage_div_2_div_2_ion_select_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const posterOrder_r23 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", \".ion-select-option\")(\"value\", posterOrder_r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(posterOrder_r23);\n  }\n}\nfunction AddPage_div_2_div_2_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"p\", 22);\n    i0.ɵɵtext(2, \"Du hast Dein j\\u00E4hrliches Bestell-Limit teilweise oder komplett erreicht.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", \"text-information\");\n  }\n}\nfunction AddPage_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-row\");\n    i0.ɵɵtemplate(2, AddPage_div_2_div_2_ion_col_2_Template, 6, 14, \"ion-col\", 10);\n    i0.ɵɵtemplate(3, AddPage_div_2_div_2_ion_col_3_Template, 6, 14, \"ion-col\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-row\")(5, \"ion-col\", 11)(6, \"ion-item\")(7, \"ion-label\");\n    i0.ɵɵtext(8, \"Flyer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPage_div_2_div_2_Template_ion_select_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.flyerOrder = $event);\n    })(\"ionChange\", function AddPage_div_2_div_2_Template_ion_select_ionChange_9_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.onChangedFlyerOrder());\n    });\n    i0.ɵɵtemplate(10, AddPage_div_2_div_2_ion_select_option_10_Template, 2, 2, \"ion-select-option\", 13);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"ion-col\", 11)(12, \"ion-item\")(13, \"ion-label\");\n    i0.ɵɵtext(14, \"Poster\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-select\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPage_div_2_div_2_Template_ion_select_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.posterOrder = $event);\n    })(\"ionChange\", function AddPage_div_2_div_2_Template_ion_select_ionChange_15_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r28 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r28.onChangedPosterOrder());\n    });\n    i0.ɵɵtemplate(16, AddPage_div_2_div_2_ion_select_option_16_Template, 2, 3, \"ion-select-option\", 14);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(17, AddPage_div_2_div_2_div_17_Template, 3, 1, \"div\", 15);\n    i0.ɵɵelementStart(18, \"ion-row\", 16)(19, \"ion-col\")(20, \"ion-button\", 17);\n    i0.ɵɵlistener(\"click\", function AddPage_div_2_div_2_Template_ion_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.onOrder());\n    });\n    i0.ɵɵtext(21, \"Bestellen\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.oBox != null && ctx_r5.oBox.bAvailable == 1 && ctx_r5.oBox.nStock > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.oBricolage != null && (ctx_r5.oBricolage.bAvailable == 1 && ctx_r5.oBox.bAvailable == 1 && ctx_r5.oBox.nStock == 0 || ctx_r5.oBox.bAvailable == 0 && ctx_r5.oBricolage.bAvailable == 1));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"interfaceOptions\", i0.ɵɵpureFunction0(18, _c0))(\"cancelText\", \"Abbrechen\")(\"okText\", \"Ausw\\u00E4hlen\")(\"ngModel\", ctx_r5.flyerOrder)(\"compareWith\", ctx_r5.compare)(\"disabled\", ctx_r5.flyerAvailable == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.flyerChoice);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"interfaceOptions\", i0.ɵɵpureFunction0(19, _c0))(\"cancelText\", \"Abbrechen\")(\"okText\", \"Ausw\\u00E4hlen\")(\"ngModel\", ctx_r5.posterOrder)(\"compareWith\", ctx_r5.compare)(\"disabled\", ctx_r5.posterAvailable == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.posterChoice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.boxMax > 0 && ctx_r5.boxAvailable == 0 || ctx_r5.bricolageMax > 0 && ctx_r5.bricolageAvailable == 0 || ctx_r5.flyerAvailable == 0 || ctx_r5.posterAvailable == 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !(ctx_r5.boxOrder > 0 || ctx_r5.bricolageOrder > 0 || ctx_r5.flyerOrder > 0 || ctx_r5.posterOrder > 0));\n  }\n}\nfunction AddPage_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 21)(2, \"p\", 23);\n    i0.ɵɵlistener(\"click\", function AddPage_div_2_div_3_Template_p_click_2_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.onClickPageInformation());\n    });\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4, \"Vielen Dank f\\u00FCr Deine Bestellung!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"ion-row\", 16)(7, \"ion-col\")(8, \"ion-button\", 24);\n    i0.ɵɵlistener(\"click\", function AddPage_div_2_div_3_Template_ion_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.onNextOrder());\n    });\n    i0.ɵɵtext(9, \"Weitere Bestellung\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", \"text-information-pointer\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" \", ctx_r6.bOrderMerge ? \"Um Versandkosten zu sparen, haben wir\" + (ctx_r6.bOrderSplit ? \" einen Teil Deiner \" : \" Deine \") + \"Bestellung zu einer vorhandenen, noch nicht versendeten, Bestellung hinzugef\\u00FCgt. \" : \"\", \" \", ctx_r6.bOrderSplit && !ctx_r6.bOrderMerge ? \"Damit wir die bestellten Sammelboxen sicher versenden k\\u00F6nnen, haben wir Deine Bestellung in zwei oder mehrere Teil-Bestellungen, mit jeweils maximal drei Sammelboxen, aufgeteilt.\" : \"\", \" \", ctx_r6.bOrderSplit && ctx_r6.bOrderMerge ? \"Die restlichen Sammelboxen haben wir auf zwei oder mehrere Teil-Bestellungen aufgeteilt, da ein einziger Versandkarton f\\u00FCr die verbleibenden Materialien nicht ausreichend ist.\" : \"\", \" In der \\\"Bestell-Historie\\\" kannst Du Dich jederzeit \\u00FCber den Status Deiner Bestellungen informieren.\");\n  }\n}\nfunction AddPage_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, AddPage_div_2_div_1_Template, 3, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, AddPage_div_2_div_2_Template, 22, 20, \"div\", 7);\n    i0.ɵɵtemplate(3, AddPage_div_2_div_3_Template, 10, 4, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.orderTaken);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.orderTaken);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.orderTaken && !ctx_r0.spinner);\n  }\n}\nconst _c1 = function () {\n  return [\"/collector/menu/data/tabs/locations\"];\n};\nconst _c2 = function () {\n  return [\"/collector/menu/send/tabs/add\"];\n};\nfunction AddPage_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"p\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"a\", 27);\n    i0.ɵɵtext(4, \"hier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"a\", 27);\n    i0.ɵɵtext(7, \"hier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \". Flyer und Poster k\\u00F6nnen nach Bedarf und ohne Einschr\\u00E4nkung bestellt werden. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"* Du hast die M\\u00F6glichkeit f\\u00FCr jeden Sammelstandort eine Sammelbox (\", ctx_r1.oBox.bAvailable ? ctx_r1.oBox.nStock > 0 ? \"Mobile-Box\" : \"Bastel-Box\" : \"Bastel-Box\", \") zu bestellen. Aktuell hast du \", ctx_r1.data.nLocations == 1 ? \"einen Sammelstandort\" : ctx_r1.data.nLocations + \" Sammelstandorte\", \" angelegt und \", ctx_r1.data.nOrders == 1 ? \"eine Sammelbox\" : ctx_r1.data.nOrders + \" Sammelboxen\", \" bestellt. Damit ist dein Limit \", ctx_r1.oBox.maxOrder < 0 || ctx_r1.oBox.maxOrder < 0 ? \"\\u00FCberschritten\" : \"erreicht\", \". Weitere Sammelstandorte kannst du \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(8, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" hinzuf\\u00FCgen. Da jede Sammelbox irgendwann einmal abgenutzt ist, kannst du ab jedem 200ersten zugesendeten Handy eine neue Sammelbox bestellen. Aktuell fehlen dir dazu \", ctx_r1.getRestIntervall(), \" \", ctx_r1.data.nDevices != 0 ? \"weitere\" : \"\", \" Handys. Eine Anleitung zum kostenlosen Versand von gesammelten Handys findest du \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c2));\n  }\n}\nfunction AddPage_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"span\", 9);\n    i0.ɵɵtext(2, \"Deine erste Bestellung\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddPage_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, AddPage_div_6_div_1_Template, 3, 0, \"div\", 6);\n    i0.ɵɵelementStart(2, \"div\", 29)(3, \"span\", 30);\n    i0.ɵɵtext(4, \"Du hast die M\\u00F6glichkeit f\\u00FCr jeden Sammelstandort, den du betreust eine Sammelbox zu bestellen. Da du noch keinen Sammelstandort hinzugef\\u00FCgt hast, bitten wir dich dies zun\\u00E4chst zu tun bevor du mit deiner ersten Bestellung beginnen kannst. Klicke dazu bitten auf den folgenden Button.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"ion-row\", 16)(6, \"ion-col\")(7, \"ion-button\", 31);\n    i0.ɵɵlistener(\"click\", function AddPage_div_6_Template_ion_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.onLocation());\n    });\n    i0.ɵɵtext(8, \"Sammelstandort hinzuf\\u00FCgen\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.orderTaken);\n  }\n}\nfunction AddPage_ion_spinner_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 32);\n  }\n}\nexport let AddPage = /*#__PURE__*/(() => {\n  class AddPage {\n    constructor(connApi, alertController, router, dataService) {\n      this.connApi = connApi;\n      this.alertController = alertController;\n      this.router = router;\n      this.dataService = dataService;\n      // Urls\n      this.urlOrdersAvailable = 'collector/order/available';\n      this.urlOrder = 'collector/order';\n      this.boxChoice = [0];\n      this.bricolageChoice = [0];\n      this.flyerChoice = [0];\n      this.posterChoice = [0];\n      this.boxOrder = 0;\n      this.bricolageOrder = 0;\n      this.flyerOrder = 0;\n      this.posterOrder = 0;\n      this.orderDisabled = false;\n      this.orderTaken = false;\n      this.spinner = false;\n      this.flyerSelected = false;\n      this.posterSelected = false;\n      this.bOrderSplit = false;\n      this.bOrderMerge = false;\n    }\n    ngOnInit() {\n      this.available();\n      this.dataService.callbackLocation().subscribe(data => {\n        this.available();\n      });\n      this.dataService.callbackOrder().subscribe(data => {\n        this.available();\n      });\n    }\n    onOrder() {\n      if (this.boxAvailable == 0 && this.bricolageAvailable == 0 && this.flyerAvailable == 0 && this.posterAvailable == 0) {\n        this.dialogLimitReached();\n        return;\n      }\n      if (this.boxOrder == 0 && this.bricolageOrder == 0 && this.flyerOrder == 0 && this.posterOrder == 0) {\n        this.dialogNoOrders();\n        return;\n      }\n      this.orderDisabled = true;\n      this.spinner = true;\n      let json = {\n        'box': this.boxOrder,\n        'bricolage': this.bricolageOrder,\n        'flyer': this.flyerOrder,\n        'poster': this.posterOrder\n      };\n      this.connApi.safePut(this.urlOrder, json).subscribe(data => {\n        if (data.status == 200) {\n          console.log('Order added');\n          // data\n          let body = data.body;\n          this.bOrderSplit = body.bSplit == 1;\n          this.bOrderMerge = body.bMerge == 1;\n          console.log('merge' + this.bOrderMerge);\n          console.log('split' + this.bOrderSplit);\n          this.available();\n          this.dataService.publishData(null);\n          (() => __awaiter(this, void 0, void 0, function* () {\n            this.orderTaken = true;\n            yield new Promise(resolve => setTimeout(resolve, 2000));\n            this.spinner = false;\n            this.orderDisabled = false;\n          }))();\n        }\n      });\n    }\n    onChangedBoxOrder() {\n      this.flyerOrder = this.boxOrder * 100 <= this.flyerAvailable ? this.boxOrder * 100 : this.flyerAvailable;\n      this.posterOrder = this.boxOrder * 2 <= this.posterAvailable ? this.boxOrder * 2 : this.posterAvailable;\n    }\n    onChangedBricolageOrder() {\n      this.flyerOrder = this.bricolageOrder * 100 <= this.flyerAvailable ? this.bricolageOrder * 100 : this.flyerAvailable;\n      this.posterOrder = this.bricolageOrder * 2 <= this.posterAvailable ? this.bricolageOrder * 2 : this.posterAvailable;\n    }\n    onChangedFlyerOrder() {\n      if (!this.flyerSelected) {\n        this.flyerSelected = true;\n      }\n    }\n    onChangedPosterOrder() {\n      console.log('jo');\n      if (!this.posterSelected) {\n        this.posterSelected = true;\n      }\n    }\n    // Dialogs\n    dialogLimitReached() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          header: 'Bestell-Limit erreicht',\n          message: 'Leider hast Du Dein Bestell-Limit erreicht. Weitere Bestellungen sind nächstes Jahr wieder möglich!',\n          cssClass: 'my-alert',\n          buttons: ['Ok']\n        });\n        yield alert.present();\n      });\n    }\n    dialogNoOrders() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          header: 'Keine Bestellung ausgewählt',\n          message: 'Bitte wähle deine Bestellung aus. Klicke dazu auf die jeweiligen Schaltflächen.',\n          buttons: ['Ok']\n        });\n        yield alert.present();\n      });\n    }\n    compare(c1, c2) {\n      return c1 == c2;\n    }\n    onClickPageInformation() {\n      this.router.navigate(['collector/order/history']);\n      this.boxChoice = [];\n      this.bricolageChoice = [];\n      this.flyerChoice = [];\n      this.posterChoice = [];\n      this.boxOrder = 0;\n      this.bricolageOrder = 0;\n      this.flyerOrder = 0;\n      this.posterOrder = 0;\n      this.orderDisabled = false;\n      this.orderTaken = false;\n      this.flyerSelected = false;\n      this.posterSelected = false;\n      this.available();\n    }\n    available() {\n      this.connApi.safeGet(this.urlOrdersAvailable).subscribe(response => {\n        console.log(response.body);\n        this.data = response.body;\n        this.oBox = this.data.oBox;\n        this.oBricolage = this.data.oBricolage;\n        // Box\n        this.boxChoice = [0];\n        if (this.oBox.bAvailable == 1) {\n          this.oBox.maxOrder = Math.floor(+this.data.nLocations + this.data.nDevices / this.data.intervallDevices - this.oBox.nOrder - this.oBricolage.nOrder);\n          this.oBox.maxOrder = 6; // no limit\n          console.log(this.oBox.maxOrder);\n          if (this.oBox.maxOrder > 0) {\n            for (var i = 1; i <= this.oBox.maxOrder && i <= 6; i++) {\n              this.boxChoice.push(i);\n            }\n          }\n        } else {\n          this.oBox.maxOrder = 0;\n        }\n        // Bricolage\n        this.bricolageChoice = [0];\n        if (this.oBricolage.bAvailable == 1) {\n          this.oBricolage.maxOrder = Math.floor(+this.data.nLocations + this.data.nDevices / this.data.intervallDevices - this.oBricolage.nOrder - this.oBox.nOrder);\n          this.oBricolage.maxOrder = 6;\n          if (this.oBricolage.maxOrder > 0) {\n            for (var i = 1; i <= this.oBricolage.maxOrder && i <= 6; i++) {\n              this.bricolageChoice.push(i);\n            }\n          }\n        } else {\n          this.oBricolage.maxOrder = 0;\n        }\n        // Flyer\n        this.flyerChoice = [0];\n        this.flyerAvailable = 600;\n        if (this.flyerAvailable > 0) {\n          for (var i = 100; i <= this.flyerAvailable; i += 100) {\n            this.flyerChoice.push(i);\n          }\n        }\n        // Poster\n        this.posterChoice = [0];\n        this.posterAvailable = 12;\n        if (this.posterAvailable > 0) {\n          for (var i = 2; i <= this.posterAvailable; i += 2) {\n            this.posterChoice.push(i);\n          }\n        }\n      });\n    }\n    getRestIntervall() {\n      if (this.data != null) {\n        return Math.floor(this.data.nDevices % this.data.intervallDevices) == 0 ? 200 : 200 - Math.floor(this.data.nDevices % this.data.intervallDevices);\n      }\n    }\n    onLocation() {\n      this.router.navigate(['collector/menu/data/tabs/locations']);\n    }\n    onNextOrder() {\n      this.boxOrder = 0;\n      this.bricolageOrder = 0;\n      this.flyerOrder = 0;\n      this.posterOrder = 0;\n      this.orderTaken = false;\n    }\n  }\n  AddPage.ɵfac = function AddPage_Factory(t) {\n    return new (t || AddPage)(i0.ɵɵdirectiveInject(i1.ConnApiService), i0.ɵɵdirectiveInject(i2.AlertController), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.DataService));\n  };\n  AddPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddPage,\n    selectors: [[\"app-add\"]],\n    decls: 8,\n    vars: 4,\n    consts: [[1, \"input-background\"], [\"class\", \"block-element-top\", 4, \"ngIf\"], [\"class\", \"block-element-bottom\", 4, \"ngIf\"], [\"class\", \"block-element-single\", 4, \"ngIf\"], [\"name\", \"bubbles\", 4, \"ngIf\"], [1, \"block-element-top\"], [\"class\", \"block-head\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"block-head\"], [1, \"text-head\"], [3, \"sizeXl\", \"sizeLg\", \"sizeMd\", \"sizeSm\", \"sizeXs\", 4, \"ngIf\"], [\"size-xl\", \"6\", \"size-lg\", \"6\", \"size-md\", \"12\", \"size-sm\", \"12\", \"size-xs\", \"12\"], [3, \"interfaceOptions\", \"cancelText\", \"okText\", \"ngModel\", \"compareWith\", \"disabled\", \"ngModelChange\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\", \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"block-text-information-center\", 4, \"ngIf\"], [1, \"ion-row-buttons\"], [1, \"ion-button-one-inside\", 3, \"disabled\", \"click\"], [3, \"sizeXl\", \"sizeLg\", \"sizeMd\", \"sizeSm\", \"sizeXs\"], [3, \"value\"], [3, \"ngClass\", \"value\"], [1, \"block-text-information-center\"], [3, \"ngClass\"], [3, \"ngClass\", \"click\"], [1, \"ion-button-two-inside\", 3, \"click\"], [1, \"block-element-bottom\"], [1, \"note\"], [1, \"link-one\", 3, \"routerLink\"], [1, \"block-element-single\"], [1, \"block-text-information\"], [1, \"text-information\"], [1, \"ion-button-one-inside\", 3, \"click\"], [\"name\", \"bubbles\"]],\n    template: function AddPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-grid\");\n        i0.ɵɵtemplate(2, AddPage_div_2_Template, 4, 3, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"ion-grid\");\n        i0.ɵɵtemplate(4, AddPage_div_4_Template, 9, 10, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"ion-grid\");\n        i0.ɵɵtemplate(6, AddPage_div_6_Template, 9, 1, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, AddPage_ion_spinner_7_Template, 1, 0, \"ion-spinner\", 4);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.data != null && !(ctx.data.nOrders == 0 && ctx.data.nLocations == 0) && !ctx.spinner);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.spinner && !ctx.orderTaken && ctx.data != null && !(ctx.data.nOrders == 0 && ctx.data.nLocations == 0) && !(ctx.oBox != null && ctx.oBox.boxAvailable == 1 && ctx.oBox.nStock > 0 && ctx.oBox.maxOrder > 0) && !(ctx.oBricolage != null && ctx.oBricolage.bAvailable == 1 && ctx.oBricolage.nStock && ctx.oBricolage.maxOrder > 0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.data != null && ctx.data.nOrders == 0 && ctx.data.nLocations == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.spinner);\n      }\n    },\n    dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i6.NgControlStatus, i6.NgModel, i2.IonButton, i2.IonCol, i2.IonContent, i2.IonGrid, i2.IonItem, i2.IonLabel, i2.IonRow, i2.IonSelect, i2.IonSelectOption, i2.IonSpinner, i2.SelectValueAccessor, i2.RouterLinkWithHrefDelegate, i3.RouterLink],\n    styles: [\"ion-select[_ngcontent-%COMP%]{okText:\\\"OKAY\\\"}.ion-select-option[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{justify-content:center!important;text-align:center}.ion-select-option[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{justify-content:center}.my-custom-interface[_ngcontent-%COMP%]   .select-interface-option[_ngcontent-%COMP%]{--color: #79193b}\"]\n  });\n  return AddPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}