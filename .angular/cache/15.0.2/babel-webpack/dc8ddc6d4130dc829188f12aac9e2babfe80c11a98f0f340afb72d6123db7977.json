{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { Alert } from '../../../../../utilities/alert';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../utilities/alert\";\nimport * as i2 from \"../../../../../services/conn-api/conn-api.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ionic/angular\";\nexport let AddPage = /*#__PURE__*/(() => {\n  class AddPage {\n    constructor(Alert, connApi, router, alertController) {\n      this.Alert = Alert;\n      this.connApi = connApi;\n      this.router = router;\n      this.alertController = alertController;\n      // Urls\n      this.urlLithiumIonLabel = 'collector/lithium-ion-label';\n      this.urlLabel = 'collector/label';\n    }\n    ngOnInit() {\n      //localStorage.setItem('bPopUp', 'false');\n    }\n    onClickLithiumNotice() {\n      this.connApi.safeGetFile(this.urlLithiumIonLabel).subscribe(response => {\n        console.log(response);\n        let blob = new Blob([response], {\n          type: 'application/pdf'\n        });\n        const url = window.URL.createObjectURL(blob);\n        window.open(url);\n        this.Alert.popUp('Lithium-Ionen-Warnhinweis').then(res => {\n          if (!res) window.open(url);\n        });\n      });\n    }\n    onClickShippingLabel() {\n      this.dialogCreateLabel();\n    }\n    // Dialogs\n    dialogMaxLabels() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-alert',\n          header: 'Maximale Versandmenge',\n          message: 'Du hast Deine maximal täglich verfügbare Versandmenge erreicht und kannst heute leider kein weiteres ' + 'Versand-Label erstellen. Weitere Versendungen sind morgen wieder möglich',\n          buttons: ['Ok']\n        });\n        yield alert.present();\n      });\n    }\n    dialogCreateLabel() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          cssClass: 'my-alert',\n          header: 'Versand bestätigen',\n          message: 'Bitte bestätige uns kurz, dass du Dein Paket fertig gepackt, die Versandvorschriften beachtet und den Lithium-Ionen-Warnhinweis ' + 'aufgeklebt hast. Danach erstellen wir Dir ein neues Versand-Label und merken ' + 'Deine Versendung vor.',\n          buttons: [{\n            'text': 'Bestätigen',\n            handler: () => {\n              this.connApi.safeGetFile(this.urlLabel).subscribe(response => {\n                console.log(response);\n                let blob = new Blob([response], {\n                  type: 'application/pdf'\n                });\n                const url = window.URL.createObjectURL(blob);\n                window.open(url);\n                this.Alert.popUp('DHL Versandlabel').then(res => {\n                  if (!res) window.open(url);\n                });\n              }, error => {\n                console.log(error);\n                if (error.status == 429) {\n                  this.dialogMaxLabels();\n                }\n              });\n            }\n          }, 'Ich bin noch nicht soweit']\n        });\n        yield alert.present();\n      });\n    }\n  }\n  AddPage.ɵfac = function AddPage_Factory(t) {\n    return new (t || AddPage)(i0.ɵɵdirectiveInject(i1.Alert), i0.ɵɵdirectiveInject(i2.ConnApiService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AlertController));\n  };\n  AddPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddPage,\n    selectors: [[\"app-add\"]],\n    features: [i0.ɵɵProvidersFeature([Alert])],\n    decls: 82,\n    vars: 0,\n    consts: [[1, \"input-background\"], [1, \"block-element-top\"], [1, \"block-head\"], [1, \"text-head\"], [1, \"block-text\"], [1, \"text-list\"], [1, \"block-element\"], [1, \"ion-row-buttons\"], [1, \"ion-button-two-inside\", 3, \"click\"], [1, \"ion-button-long-text\"], [1, \"block-element-bottom\"]],\n    template: function AddPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-grid\")(2, \"div\", 1)(3, \"div\", 2)(4, \"span\", 3);\n        i0.ɵɵtext(5, \"1. Verpacken\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"ul\")(8, \"li\", 5);\n        i0.ɵɵtext(9, \"Gesammelte Handys bitte nicht aus gro\\u00DFer H\\u00F6he sch\\u00FCtten, sondern vorsichtig umf\\u00FCllen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"li\", 5);\n        i0.ɵɵtext(11, \"Akkus bitte in den Handys belassen. Lose, besch\\u00E4digte oder nicht originale Akkus sowie aufgebl\\u00E4hte Smartphones mit fest verbautem Akku oder solche ohne erkennbares Hersteller-Logo d\\u00FCrfen nicht versendet werden. Entsorge diese daher bitte an den Abgabestellen der \\u00F6ffentlich rechtlichen Entsorgungstr\\u00E4ger oder im Elektro-Fachhandel, nachdem lose Akkus an den goldenen Kontaktstellen mit Tesafilm abgeklebt wurden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"li\", 5);\n        i0.ɵɵtext(13, \"Aus gefahrgutrechtlichen Gr\\u00FCnden muss jedes Handy einzeln umverpackt werden. Nutze dazu die wiederverwendbaren Handy-Umverpackungen, die wir Dir mit der Mobile-Box zugesendet haben. Solltest du diese nicht vorliegen haben, nutze bitte Zeitungspapier zur Umwicklung der einzelnen Handys.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"li\", 5);\n        i0.ɵɵtext(15, \"Ladekabel und sonstige mit gesammelte Eletronikteile k\\u00F6nnen mitversendet werden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"li\", 5);\n        i0.ɵɵtext(17, \"Nutze als Versandverpackung bitte einen stabilen Karton. Solltest Du keinen zur Verf\\u00FCgung haben, kannst du auch die Sammelbox selbst, als Versandkarton nutzen. In diesem Fall kannst du Dir jederzeit hier im Handysammlerportal eine neue Mobile-Box nachbestellen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"li\", 5);\n        i0.ɵɵtext(19, \"Achte bitte auf die Stabilit\\u00E4t des Kartons und verwende (falls n\\u00F6tig) ausreichend F\\u00FCllmaterial. Nutze dazu bitte wenn m\\u00F6glich Pappe oder Zeitungspapier und kein Plastik.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"li\", 5);\n        i0.ɵɵtext(21, \"Bitte beachte die Mindestversandmenge von 40 Handys und das Maximalgewicht von 30kg.\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(22, \"ion-grid\")(23, \"div\", 6)(24, \"div\", 2)(25, \"span\", 3);\n        i0.ɵɵtext(26, \"2. Lithium-Ionen-Warnhinweis aufkleben\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 4)(28, \"ul\")(29, \"li\", 5);\n        i0.ɵɵtext(30, \"Klicke bitte auf die Schaltfl\\u00E4che \\\"Lithium-Ionen-Warnhinweis \\u00F6ffnen\\\", um dir diesen in einem neuem Fenster anzeigen zu lassen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"li\", 5);\n        i0.ɵɵtext(32, \"Sollte sich kein neues Fenster \\u00F6ffnen, ist m\\u00F6glicherweise die Aktivierung von Pop-Ups in deinem Browser notwendig.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"li\", 5);\n        i0.ɵɵtext(34, \"Drucke den ge\\u00F6ffneten Warnhinweis aus und klebe diesen gut sichtbar auf dein Versand-Paket.\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(35, \"ion-row\", 7)(36, \"ion-col\")(37, \"ion-button\", 8);\n        i0.ɵɵlistener(\"click\", function AddPage_Template_ion_button_click_37_listener() {\n          return ctx.onClickLithiumNotice();\n        });\n        i0.ɵɵelementStart(38, \"span\", 9);\n        i0.ɵɵtext(39, \"Lithium-Ionen-Warnhinweis \\u00F6ffnen\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(40, \"ion-grid\")(41, \"div\", 6)(42, \"div\", 2)(43, \"span\", 3);\n        i0.ɵɵtext(44, \"3. Versandlabel aufkleben\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(45, \"div\", 4)(46, \"ul\")(47, \"li\", 5);\n        i0.ɵɵtext(48, \"Klicke bitte auf die Schaltfl\\u00E4che \\\"Versandlabel erstellen & \\u00F6ffnen\\\", um dir ein kostenloses DHL-Versandlabel in einem neuen Fenster anzeigen zu lassen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"li\", 5);\n        i0.ɵɵtext(50, \"Sollte sich kein neues Fenster \\u00F6ffnen, ist m\\u00F6glicherweise die Aktivierung von Pop-Ups in deinem Browser notwendig.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"li\", 5);\n        i0.ɵɵtext(52, \"Drucke das ge\\u00F6ffnete Versandlabel aus und klebe dieses gut sichtbar auf dein Versand-Paket.\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"ion-row\", 7)(54, \"ion-col\")(55, \"ion-button\", 8);\n        i0.ɵɵlistener(\"click\", function AddPage_Template_ion_button_click_55_listener() {\n          return ctx.onClickShippingLabel();\n        });\n        i0.ɵɵelementStart(56, \"span\", 9);\n        i0.ɵɵtext(57, \"Versandlabel erstellen & \\u00F6ffnen\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(58, \"ion-grid\")(59, \"div\", 6)(60, \"div\", 2)(61, \"span\", 3);\n        i0.ɵɵtext(62, \"4. Versenden\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"div\", 4)(64, \"ul\")(65, \"li\", 5);\n        i0.ɵɵtext(66, \"Du kannst dein Paket bei jeder DHL-Filiale oder jeder DHL-Packstation abgeben, um es zu versenden.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"li\", 5);\n        i0.ɵɵtext(68, \"Auch m\\u00F6glich ist die \\u00DCbergabe an einen DHL-Zusteller, der ebenfalls versandfertige Pakete entgegennehmen kann.\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(69, \"ion-grid\")(70, \"div\", 10)(71, \"div\", 2)(72, \"span\", 3);\n        i0.ɵɵtext(73, \"So geht es weiter\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(74, \"div\", 4)(75, \"ul\")(76, \"li\", 5);\n        i0.ɵɵtext(77, \"Nach Eingang deines Paketes dauert die Bearbeitung etwa 2 Wochen.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"li\", 5);\n        i0.ɵɵtext(79, \"Nach Abschluss der Bearbeitung erh\\u00E4ltst du von uns per E-Mail eine Best\\u00E4tigung mit deinem Sammel-Ergebnis und einer Urkunde.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"li\", 5);\n        i0.ɵɵtext(81, \"Ebenfalls werden deine Sammelergebnisse in deiner pers\\u00F6nlichen \\\"Statistik\\\" ber\\u00FCcksichtigt.\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n    },\n    dependencies: [i4.IonButton, i4.IonCol, i4.IonContent, i4.IonGrid, i4.IonRow]\n  });\n  return AddPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}